!function(e,r){if("object"==typeof exports&&"object"==typeof module)module.exports=r();else if("function"==typeof define&&define.amd)define([],r);else{var t=r();for(var o in t)("object"==typeof exports?exports:e)[o]=t[o]}}(self,(()=>(()=>{"use strict";var e={d:(r,t)=>{for(var o in t)e.o(t,o)&&!e.o(r,o)&&Object.defineProperty(r,o,{enumerable:!0,get:t[o]})},o:(e,r)=>Object.prototype.hasOwnProperty.call(e,r),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},r={};e.r(r),e.d(r,{ThemeManager:()=>i,ThemeManagerUtils:()=>n,defaultTheme:()=>t});var t={themeCreator:{themeType:"dark",colors:{primary:"#212221",secondary:"#262626",primaryText:"#E6E6E6",secondaryText:"#A7A6A6",accent:"#4e81ee",contrary:"#000000",border:"#A7A6A6",success:"#30D158",error:"#DF5953",warning:"#F5F566"},fonts:{body:{size:"16px",weight:"400"},callout:{size:"14px",weight:"400"},caption1:{size:"12px",weight:"400"},caption2:{size:"11px",weight:"400"},footNote:{size:"12px",weight:"400"},headLine:{size:"24px",weight:"700"},subHead:{size:"18px",weight:"400"},largeTitle:{size:"32px",weight:"700"},title1:{size:"28px",weight:"600"},title2:{size:"24px",weight:"600"},title3:{size:"20px",weight:"600"}},overriders:{colorOverriders:{light:{themeType:"light",colors:{primary:"#FFFFFF",secondary:"#E5E5EA",primaryText:"#000000",secondaryText:"#6D6D72",accent:"#007AFF",contrary:"#FFFFFF",border:"#A7A6A6",success:"#34C_759",error:"#FF3B30",warning:"#F5F566"}}}}}},o=function(e,r,t){if(t||2===arguments.length)for(var o,n=0,a=r.length;n<a;n++)!o&&n in r||(o||(o=Array.prototype.slice.call(r,0,n)),o[n]=r[n]);return e.concat(o||Array.prototype.slice.call(r))},n=function(){function e(){}return e.populateObjectValue=function(e,r,t){for(var o=e,n=0;n<r.length-1;n++){var a=r[n];a in o||(o[a]={}),o=o[a]}o[r[r.length-1]]=t},e.jsonToCss=function(e){var r="";for(var t in e){for(var o in r+="".concat(t," {\n"),e[t]){var n=e[t][o];""!=n&&null!=n&&(r+="  ".concat(o,": ").concat(n,";\n"))}r+="}\n"}return r},e.splitAtOccurrence=function(e,r,t){for(var o=-1,n=0;n<t&&-1!==(o=e.indexOf(r,o+1));n++);return-1===o?[e]:[e.substring(0,o),e.substring(o+r.length)]},e.generateColorVariants=function(e,r){var t="dark"===r?20:-15,o=this.lightenOrDarkenColor(e,t);return{normal:this.getColorOpacities(e),variant:this.getColorOpacities(o)}},e.transformColorsRecursive=function(e,r,t){var n=this;void 0===r&&(r=[]),void 0===t&&(t="dark");var a="colors"==r[r.length-1],i=t;Object.entries(e).forEach((function(t){var s=t[0],c=t[1],l=o(o([],r,!0),[s],!1);"themeType"==s&&(i=c),a?e[s]=n.generateColorVariants("".concat(c),i):"object"!=typeof c||Array.isArray(c)||null==c||n.transformColorsRecursive(c,l,i)}),{})},e.getColorOpacities=function(e){return{_10:this.addAlphaToColor(e,.1),_25:this.addAlphaToColor(e,.25),_50:this.addAlphaToColor(e,.5),_75:this.addAlphaToColor(e,.75),_90:this.addAlphaToColor(e,.9),_100:e}},e.addAlphaToColor=function(e,r){var t=parseInt(e.slice(1,3),16),o=parseInt(e.slice(3,5),16),n=parseInt(e.slice(5,7),16),a=r.toFixed(2);return"rgba(".concat(t,", ").concat(o,", ").concat(n,", ").concat(a,")")},e.lightenOrDarkenColor=function(e,r){var t=!1;"#"==e[0]&&(e=e.slice(1),t=!0);var o=parseInt(e,16),n=(o>>16)+r;n>255?n=255:n<0&&(n=0);var a=(o>>8&255)+r;a>255?a=255:a<0&&(a=0);var i=(255&o)+r;return i>255?i=255:i<0&&(i=0),(t?"#":"")+(i|a<<8|n<<16).toString(16)},e}(),a=function(){return a=Object.assign||function(e){for(var r,t=1,o=arguments.length;t<o;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n]);return e},a.apply(this,arguments)},i=function(){function e(){this.separator="---",this.nameReplacer={size:"font-size",weight:"font-weight",family:"font-family",lineHeight:"line-height"}}return e.prototype.populateTheme=function(e){var r={theme:e};r.composedTheme=this.getSingleLayerComposedTheme(e),this.setSingleLayerThemeAndOverriders(r),this.loadThemeOnStyleTag(r),this.populateThemeVars(r)},e.prototype.loadThemeOnStyleTag=function(e){var r=this,o=a(a(a({":root":a({},a({},this.getVariablesFrom(e.singleLayerTheme)))},Object.entries(e.overriders||{}).reduce((function(e,t){var o=t[0],n=t[1];return e["."+o]=r.getVariablesFrom(n," !important"),e}),{})),a({},this.getFontCSSClassesFromFonts(e.theme.themeCreator.fonts))),a({},this.getFontCSSClassesFromFonts(t.themeCreator.fonts))),i=n.jsonToCss(o),s=document.createElement("style"),c="".concat(Date.now());e.theme.sheetSelector="#".concat(c),s.id="".concat(c),s.innerHTML=i,document.head.appendChild(s)},e.prototype.populateThemeVars=function(e){var r=this;e.theme.themeVars={},Object.values(e.singleLayerTheme||{}).forEach((function(r){n.populateObjectValue(e.theme.themeVars||{},Array.from(r.routeSet),"var(".concat(r.varName,")"))})),e.theme.themeVars.overriders={},Object.entries(a(a({},t.themeCreator.overriders),e.theme.themeCreator.overriders)||{}).forEach((function(t){var o,a,i=t[0],s=t[1],c=Object.keys(s||{}).map((function(e){return{oType:e,className:"".concat(i).concat(r.separator).concat(e)}})),l=c.map((function(e){return e.className}));n.populateObjectValue((null===(o=e.theme.themeVars)||void 0===o?void 0:o.overriders)||{},[i,"removeOverriders"],(function(e){var r=l;null==e?r.forEach((function(e){document.querySelectorAll("."+e).forEach((function(r){return r.classList.remove(e)}))})):r.forEach((function(r){return e.classList.remove(r)}))})),n.populateObjectValue((null===(a=e.theme.themeVars)||void 0===a?void 0:a.overriders)||{},[i,"switch"],(function(e){void 0===e&&(e=document.body);var t=l;r.switchOveriderOnElement(t)})),c.forEach((function(t){var o,a;n.populateObjectValue((null===(o=e.theme.themeVars)||void 0===o?void 0:o.overriders)||{},[i,t.oType,"className"],t.className),n.populateObjectValue((null===(a=e.theme.themeVars)||void 0===a?void 0:a.overriders)||{},[i,t.oType,"apply"],(function(e){void 0===e&&(e=document.body);var o=l;r.loadOveriderOnElement(t.className,o)}))}))}));var o=function(r,t){var o;(null===(o=e.theme.themeVars)||void 0===o?void 0:o.fonts)[r].class=t};this.getFontCSSClassesFromFonts(t.themeCreator.fonts,o),this.getFontCSSClassesFromFonts(e.theme.themeCreator.fonts,o),o=void 0},e.prototype.switchOveriderOnElement=function(e,r){if(void 0===r&&(r=document.body),!(e.length<=0)){for(var t=r.classList,o="",n=0;n<=e.length;n++){var a=e[n];if(t.contains(a)){o=a;break}}var i=e.indexOf(o);if(i<0)r.classList.add(e[0]);else{var s=e[(i+1)%e.length];e.forEach((function(e){return r.classList.remove(e)})),r.classList.add(s)}}},e.prototype.loadOveriderOnElement=function(e,r,t){void 0===t&&(t=document.body),r.forEach((function(e){return t.classList.remove(e)})),t.classList.add(e)},e.prototype.getFontCSSClassesFromFonts=function(e,r){var t=this;if(!e)return{};var o={};return Object.entries(e).forEach((function(e){var n=e[0],i=e[1],s="fonts".concat(t.separator).concat(n),c="."+s,l="--"+s;null==r||r(n,s),o[c]=Object.entries(i||{}).reduce((function(e,r){var o,n=r[0],i=(r[1],"var(".concat(l).concat(t.separator).concat(n,")")),s="".concat(t.nameReplacer[n]||"");return a(a({},e),((o={})[s]=i,o))}),{})})),o},e.prototype.transformMultilayerObject=function(e,r){var t=this;return void 0===e&&(e=""),Object.entries(r).reduce((function(r,o){var n,i=o[0],s=o[1],c=e?"".concat(e).concat(t.separator).concat(i):i;if("object"!=typeof s||Array.isArray(s)||null==s){var l={routeSet:new Set(c.split(t.separator)),value:s,varName:"--".concat(c)};return a(a({},r),((n={})[c]=l,n))}return a(a({},r),t.transformMultilayerObject(c,s))}),{})},e.prototype.getElementsFromSingleLayerObject=function(e,r){var t={};return Object.entries(r).forEach((function(r){var o=r[0],n=r[1];Object.entries(e).forEach((function(e){var r=e[0],a=e[1],i=a.route.every((function(e){return n.routeSet.has(e)}));t[r]||(t[r]={}),(i&&a.contains||!i&&!a.contains)&&(t[r][o]=n)}))})),t},e.prototype.getSingleLayerComposedTheme=function(e){var r=structuredClone(t.themeCreator),o=structuredClone(e.themeCreator);n.transformColorsRecursive(r),n.transformColorsRecursive(o);var a=this.transformMultilayerObject(void 0,r),i=this.transformMultilayerObject(void 0,o);return Object.entries(i).forEach((function(e){var r=e[0],t=e[1];a[r]=t})),a},e.prototype.setSingleLayerThemeAndOverriders=function(e){var r=this,t=this.getElementsFromSingleLayerObject({noOverriders:{contains:!1,route:["overriders"]},overriders:{contains:!0,route:["overriders"]}},e.composedTheme||{});e.singleLayerTheme=t.noOverriders;var o={};Object.entries(t.overriders).forEach((function(e){var t=e[0],a=e[1],i=Array.from(a.routeSet);if("overriders"==i[0]){var s="".concat(i[1]).concat(r.separator).concat(i[2]);o[s]||(o[s]={});var c=n.splitAtOccurrence(t,r.separator,3)[1]||"";a.routeSet=new Set(c.split(r.separator)),a.varName="--".concat(c),a.overriderRoute=[i[0],i[1]],o[s][c]=a}})),e.overriders=o,console.log(o)},e.prototype.getVariablesFrom=function(e,r){return void 0===r&&(r=""),null==e?{}:Object.entries(e).reduce((function(e,t){t[0];var o,n=t[1];return a(a({},e),((o={})[n.varName]="".concat(n.value).concat(r),o))}),{})},e.shared=new e,e}();return r})()));